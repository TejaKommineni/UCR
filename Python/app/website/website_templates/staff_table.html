{% extends "layout_all.html" %}
{% block content %}
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-6">
          <h1>Staff</h1>
        </div>
      </div>
      <form class="formOverride" id="mainform" action='', method='get'>
          <fieldset>
            <div class="form-group">
              <div class="row">
                <div class = "col-md-1">
                  <label for="text_firstName">First Name</label>
                  <input type="text" class="form-control" name="firstName" id="text_firstName" value = "{{form.queryParams.firstName}}">
                </div>
                <div class="col-md-1"> 
                  <label for="text_lastName">Last Name</label>
                  <input type="text" class="form-control" name="lastName" id="text_lastName" value = "{{form.queryParams.lastName}}">
                </div>
                <div class="col-md-1">
                  <label for="text_staffID">Staff ID</label>
                  <input type="text" class="form-control" name="staffID" id="text_staffID" value = "{{form.queryParams.staffID}}">
                </div>
                <div class = "col-md-1">
                  <label for="text_phoneNumber">Phone</label>
                  <input type="text" class="form-control" name="phoneNumber" id="text_phoneNumber" value = "{{form.queryParams.phoneNumber}}">
                </div>
                <div class = "col-md-1">
                  <label for="text_email">Email</label>
                  <input type="text" class="form-control" name="email" id="text_email" value = "{{form.queryParams.email}}">
                </div>
                <div class = "col-md-1">
                  <label for="text_institution">Insitution</label>
                  <select type="text" class="form-control" name="institutionID" id="select_institutionID">
                        <option></option>
                      {% for institution in form.institutions %}
                        {% if institution.institutionID|string() == form.queryParams.institutionID %}
                            <option selected="selected" value="{{institution.institutionID}}">{{institution.institution}}</option>
                        {% else %}
                            <option value="{{institution.institutionID}}">{{institution.institution}}</option>
                        {% endif %}
                      {% endfor %}
                  </select>
                </div>
                <div class = "col-md-1">
                  <label for="text_department">Department</label>
                  <select type="text" class="form-control" name="departmentID" id="select_departmentID">
                        <option></option>
                      {% for department in form.departments %}
                        {% if department.departmentID|string() == form.queryParams.departmentID %}
                            <option selected="selected" value="{{department.departmentID}}">{{department.department}}</option>
                        {% else %}
                            <option value="{{department.departmentID}}">{{department.department}}</option>
                        {% endif %}
                      {% endfor %}
                  </select>
                </div>
                <div class = "col-md-2">
                  <label for="select_ucrRoleID">UCR Role</label>
                  <select type="text" class="form-control" name="ucrRoleID" id="select_ucrRoleID">
                        <option></option>
                      {% for ucrRole in form.ucrRoles %}
                        {% if ucrRole.ucrRoleID|string() == form.queryParams.ucrRoleID %}
                            <option selected="selected" value="{{ucrRole.ucrRoleID}}">{{ucrRole.ucrRole}}</option>
                        {% else %}
                            <option value="{{ucrRole.ucrRoleID}}">{{ucrRole.ucrRole}}</option>
                        {% endif %}
                      {% endfor %}
                  </select>
                </div>
                <div class="col-md-1">
                  <label for="btn-search" style="visibility: hidden">Search</label>
                  <button class="btn btn-primary form-control" id="btn_search" type="submit" value="Submit" name="action">Search</button>
                </div>
                <div class="col-md-1">
                  <label for="btn-clear" style="visibility: hidden">Clear Search</label>
                  <button class="btn btn-primary form-control" id="btn_clear" type="submit" value="clear" name="action">Clear Search</button>
                </div>
              </div>
            </div>
          </fieldset>
        </form>
      
        <table class="table table-striped no-spacing" id="example">
          <thead>
            <tr>
                <th>Last Name</th>
                <th>First Name</th>
                <th>Staff ID</th>
                <th>Phone Number</th>
                <th>Email</th>
                <th>Institution</th>
                <th>Department</th>
                <th>UCR Role</th>
            </tr>
          </thead>
          <tbody>
            {% for staff in staffs %}
            <tr>
                <td><a href="/website/staff/{{staff["staffID"]}}">{{staff["lastName"] or ''}}</a></td>
                <td><a href="/website/staff/{{staff["staffID"]}}">{{staff["firstName"] or ''}}</a></td>
                <td><a href="/website/staff/{{staff["staffID"]}}">{{staff["staffID"] or ''}}</a></td>
                <td><a href="/website/staff/{{staff["staffID"]}}">{{staff["phoneNumber"] or ''}}</a></td>
                <td><a href="/website/staff/{{staff["staffID"]}}">{{staff["email"] or ''}}</a></td>
                <td><a href="/website/staff/{{staff["staffID"]}}">{{staff["institution"]["institution"] or ''}}</a></td>
                <td><a href="/website/staff/{{staff["staffID"]}}">{{staff["department"]["department"] or ''}}</a></td>
                <td><a href="/website/staff/{{staff["staffID"]}}">{{staff["ucrRole"].ucrRole or ''}}</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
</div>
{% endblock %}
