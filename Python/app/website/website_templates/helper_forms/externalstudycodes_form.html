<div class="container-fluid">
{% if external is not none %}
    <!-- action url is for update -->
    <form class="formOverride" id="external{{loop.index}}" action='/website/externalstudycodes/{{external["externalID"]}}/', method='post'>
{% else %}
    <!-- action url is for post/create -->
    <form class="formOverride" id="external{{loop.index}}" action='/website/externalstudycodes/', method='post'>
{% endif %}
      <fieldset>
            <div class="form-group">
              <div class="row">
                <div class = "col-md-2">
                  <label for="text_external{{loop.index}}">External ID</label>
                  <input type="text" class="form-control" name="externalID" id="text_external{{loop.index}}" value="{{external["externalID"] or ''}}" required>
                </div>
                <div class = "col-md-2">
                  <label for="text_external{{loop.index}}">External Study Code</label>
                  <input type="text" class="form-control" name="externalStudyCode" id="text_external{{loop.index}}" value="{{external["externalStudyCode"] or ''}}">
                </div>
                <div class = "col-md-2">
                  <label for="text_createdDate{{loop.index}}">Created</label>
                  <input type="text" class="form-control" name="createdDate" id="text_createdDate{{loop.index}}" value="{{external["createdDate"]}}" readonly="readonly" disabled="disabled">
                </div>
                <div class = "col-md-2">
                  <label for="text_modifiedDate{{loop.index}}">Last Modified</label>
                  <input type="text" class="form-control" name="modifiedDate" id="text_modifiedDate{{loop.index}}" value="{{external["modifiedDate"]}}" readonly="readonly" disabled="disabled">
                </div>
                <div class="col-md-2">
                  <label for="text_versionID{{loop.index}}">Version</label>
                  {% if external is not none %}
                    <input type="text" class="form-control" name="versionID" id="text_versionID{{loop.index}}" value="{{external["versionID"]}}" readonly="readonly">
                  {% else %}
                    <input type="text" class="form-control" name="versionID" id="text_versionID{{loop.index}}" value="0" readonly="readonly">
                  {% endif %}
                </div>
                <div class="col-md-1">
                    <label>Undo Changes</label>
                    <button class="btn btn-primary form-control" onClick="window.history.back();" value="Back" type="button">Back</button>
                </div>
                <div class="col-md-1">
                  <label for="sub_button{{loop.index}}">Make Changes</label>
                  {% if external is not none %}
                  <button id="sub_button{{loop.index}}" class="btn btn-primary form-control" type="submit" value="Submit">Submit Edits</button>
                  {% else %}
                  <button id="sub_button{{loop.index}}" class="btn btn-primary form-control" type="submit" value="Submit">Add External StudyCode</button>
                  {% endif %}
                </div>
                                <!-- Extra hidden fields -->
                {% if external is not none %}
                    <input type="hidden" name="_method" value="put" />
                    <input type="hidden" name="externalID" value="{{external["externalID"]}}"/>
                {% else %}
                    <input type="hidden" name="externalID" value="0"/>
                {% endif %}
                </div>
            </div>
        </fieldset>
    </form>
</div>